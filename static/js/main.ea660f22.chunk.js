(this["webpackJsonpstar-wars-app"]=this["webpackJsonpstar-wars-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(8),r=n.n(a),s=(n(19),n(2)),o=n(6),u=n(14),l=n(7),d="GET_FILMS_START",j="GET_FILMS_SUCCESS",f="GET_FILMS_FAILURE",b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{meta:{status:"submitting"}});case j:return{model:t.payload,meta:{status:"success"}};case f:return Object(l.a)(Object(l.a)({},e),{},{meta:{status:"failure"}});default:return e}},h="GET_CHARACTERS_START",m="GET_CHARACTERS_SUCCESS",O="GET_CHARACTERS_FAILURE",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{meta:{status:"submitting"}};case m:return{model:t.payload,meta:{status:"success"}};case O:return{meta:{status:"failure"}};default:return e}},x=Object(o.d)(Object(o.b)({films:b,filmInfo:v}),Object(o.c)(Object(o.a)(u.a))),p=n(3),g=function(e){var t={headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),method:"GET"};return fetch(e,t).then((function(e){return e.json()}))},N=function(){var e="https://swapi.dev/api/".concat("films");return g(e)},C=function(e){var t;return null===(t=e.results)||void 0===t?void 0:t.map((function(e){return{title:e.title,id:e.episode_id,characters:e.characters,openingCrawl:e.opening_crawl}}))},S=function(){return function(e){return e({type:d}),N().then((function(t){e({type:j,payload:C(t)})})).catch((function(){e({type:f})}))}},w=(n(26),n.p+"static/media/star-wars.3bf2a05e.svg"),E=n(0),I=function(){return Object(E.jsx)("div",{className:"logo-box",children:Object(E.jsx)("img",{className:"logo",src:w,alt:"Star Wars Logo"})})},T=function(e){return g(e)},y=function(e){return{name:e.name,gender:e.gender,height:Number(e.height)}},k=function(e){return function(t){t({type:h});var n=[];Promise.all(e.map((function(e){return T(e)}))).then((function(e){return e.forEach((function(e){return n.push(y(e))}))})).then((function(){t({type:m,payload:n})})).catch((function(){t({type:O})}))}},F=(n(28),function(e){var t=e.text,n=e.className,c=void 0===n?"":n,i=e.onClick,a=void 0===i?function(){}:i;return Object(E.jsx)("button",{className:"btn ".concat(c),onClick:a,children:t})}),_=(n(29),n(30),n.p+"static/media/star-wars-spinner.6d2c8710.svg"),A=function(){return Object(E.jsx)("div",{className:"spinner-box",children:Object(E.jsx)("img",{src:_,alt:"Loading Spinner"})})},R=function(e){var t,n=e.films,c=e.fetchCharacterInfo,a=e.setId,r=e.id,s=i.a.useState(!1),o=Object(p.a)(s,2),u=o[0],l=o[1],d=i.a.useState(r?null===(t=n.filter((function(e){return e.id===r}))[0])||void 0===t?void 0:t.title:"Select Movie"),j=Object(p.a)(d,2),f=j[0],b=j[1],h=i.a.useRef(null);function m(e){var t;!e.target.closest(".".concat(null===(t=h.current)||void 0===t?void 0:t.className))&&u&&l(!1)}return i.a.useEffect((function(){return document.addEventListener("click",m),function(){document.removeEventListener("click",m)}})),Object(E.jsxs)("div",{className:"drop-down",ref:h,children:[Object(E.jsx)(F,{text:f,className:"btn-size",onClick:function(){return l(!u)}}),u&&Object(E.jsx)("div",{className:"list-items",children:n.length>0?n.map((function(e){return Object(E.jsx)(F,{text:e.title,className:"ghost btn-size",onClick:function(){l(!u),b(e.title),c(e.characters),a(e.id)}})})):Object(E.jsx)(A,{})})]})},L=Object(s.b)((function(e){var t=e.films,n=void 0===t?{}:t;return{films:(null===n||void 0===n?void 0:n.model)||[]}}),(function(e){return{fetchCharacterInfo:function(t){return e(k(t))}}}))(R),G=(n(31),function(e){var t=e.setId;return Object(E.jsxs)("div",{children:[Object(E.jsx)(I,{}),Object(E.jsx)("div",{className:"initial-drop-down",children:Object(E.jsx)(L,{setId:t})})]})}),M=Object(s.b)((function(){return{}}),(function(e){return{fetchFilms:function(){e(S())}}}))(G),H=(n(32),function(e){var t,n=e.films,c=e.id,i=null===(t=n.filter((function(e){return e.id===c}))[0])||void 0===t?void 0:t.openingCrawl;return Object(E.jsx)("div",{className:"text-crawl",children:Object(E.jsx)("marquee",{className:"crawl",direction:"up",scrollamount:1,loop:"infinite",children:i})})}),U=Object(s.b)((function(e){var t=e.films;return{films:(null===t||void 0===t?void 0:t.model)||[]}}))(H),P=n(4),z=(n(33),n(12),function(e){var t=e.name,n=e.gender,c=e.height;return Object(E.jsxs)("div",{className:"character-table-row",children:[Object(E.jsx)("div",{className:"table-item",children:t}),Object(E.jsx)("div",{className:"table-item",children:n}),Object(E.jsx)("div",{className:"table-item",children:c})]})}),B=function(e){var t=e.charCount,n=e.height,c=e.feet,i=e.inches;return Object(E.jsx)("div",{className:"character-table-row",children:Object(E.jsxs)("div",{className:"table-item height-row",children:["Character Count: ",t," | Total Height: ",n," cm (",c,"ft/",i,"in)"]})})},J=function(e,t,n){return e.sort((function(e,c){return e[t]<c[t]?n?-1:1:e[t]>c[t]?n?1:-1:0}))},q=function(e,t){return e.filter((function(e){return"other"===t?"male"!==e.gender&&"female"!==e.gender:e.gender===t}))},D=function(e){return e.reduce((function(e,t){return isNaN(t.height)?e:e+t.height}),0)},W=function(e){return e/30.48},K=function(e){var t=e.filmInfo,n=e.status,c=i.a.useState(t),a=Object(p.a)(c,2),r=a[0],s=a[1],o=i.a.useState(D(t)),u=Object(p.a)(o,2),l=u[0],d=u[1],j=i.a.useState(!0),f=Object(p.a)(j,2),b=f[0],h=f[1],m=i.a.useState(!0),O=Object(p.a)(m,2),v=O[0],x=O[1],g=i.a.useState(!0),N=Object(p.a)(g,2),C=N[0],S=N[1];return i.a.useEffect((function(){s(t),d(D(t))}),[t]),i.a.useEffect((function(){d(D(r))}),[r]),Object(E.jsxs)("div",{className:"character-table",children:[Object(E.jsxs)("div",{className:"filter-btns-box",children:[Object(E.jsx)(F,{text:"Female",onClick:function(){s(Object(P.a)(q(t,"female")))}}),Object(E.jsx)(F,{text:"Male",onClick:function(){s(Object(P.a)(q(t,"male")))}}),Object(E.jsx)(F,{text:"Other",onClick:function(){s(Object(P.a)(q(t,"other")))}}),Object(E.jsx)(F,{text:"Remove Filter",onClick:function(){s(Object(P.a)(t))}})]}),Object(E.jsxs)("div",{className:"character-table-headers",children:[Object(E.jsx)(F,{text:"Name",className:"table-header",onClick:function(){s(Object(P.a)(J(r,"name",b))),h(!b)}}),Object(E.jsx)(F,{text:"Gender",className:"table-header",onClick:function(){s(Object(P.a)(J(r,"gender",v))),x(!v)}}),Object(E.jsx)(F,{text:"Height",className:"table-header",onClick:function(){s(Object(P.a)(J(r,"height",C))),S(!C)}})]}),Object(E.jsxs)("div",{className:"character-info",children:["success"===n?Object(E.jsxs)("div",{children:[r.map((function(e){return Object(E.jsx)(z,{name:e.name,gender:e.gender,height:e.height})})),Object(E.jsx)(B,{charCount:r.length,height:l,feet:Math.floor(W(l)),inches:Math.round(W(l)%1*12)})]}):Object(E.jsx)(A,{}),";"]})]})},Q=Object(s.b)((function(e){var t,n=e.filmInfo,c=void 0===n?{}:n;return{filmInfo:(null===c||void 0===c?void 0:c.model)||[],status:null===(t=c.meta)||void 0===t?void 0:t.status}}))(K),V=(n(34),function(e){var t=e.setId,n=e.id;return Object(E.jsxs)("div",{className:"component-box",children:[Object(E.jsx)(I,{}),Object(E.jsxs)("div",{className:"box-within",children:[Object(E.jsx)("div",{className:"drop-down-box",children:Object(E.jsx)(L,{setId:t,id:n})}),Object(E.jsx)("div",{className:"text-crawl-box",children:Object(E.jsx)(U,{id:n})}),Object(E.jsx)("div",{className:"character-table-box",children:Object(E.jsx)(Q,{})})]})]})}),X=(n(35),function(){return Object(E.jsx)("div",{className:"error-box",children:Object(E.jsxs)("div",{className:"error-msg",children:[Object(E.jsx)("h4",{children:"Oh no! Occurred an error, it has."}),Object(E.jsx)("p",{children:"Try again later, you must."})]})})}),Y=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)(I,{}),Object(E.jsx)(X,{className:"banner"})]})},Z=function(e){var t=e.fetchFilms,n=e.failure,c=i.a.useState(),a=Object(p.a)(c,2),r=a[0],s=a[1];return i.a.useEffect((function(){n||t()})),Object(E.jsxs)("div",{children:[!r&&!n&&Object(E.jsx)(M,{setId:s}),!!r&&!n&&Object(E.jsx)(V,{setId:s,id:r}),n&&Object(E.jsx)(Y,{})]})},$=Object(s.b)((function(e){var t,n,c=e.films,i=void 0===c?{}:c,a=e.filmInfo,r=void 0===a?{}:a;return{failure:"failure"===(null===(t=i.meta)||void 0===t?void 0:t.status)||"failure"===(null===(n=r.meta)||void 0===n?void 0:n.status)}}),(function(e){return{fetchFilms:function(){e(S())}}}))(Z);var ee=function(){return Object(E.jsx)(s.a,{store:x,children:Object(E.jsx)("div",{className:"App",children:Object(E.jsx)($,{})})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(ee,{})}),document.getElementById("root")),te()}],[[36,1,2]]]);
//# sourceMappingURL=main.ea660f22.chunk.js.map